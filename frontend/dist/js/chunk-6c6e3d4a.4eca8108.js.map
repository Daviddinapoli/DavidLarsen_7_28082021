{"version":3,"sources":["webpack:///./src/services/PostDataService.js","webpack:///./src/components/PostsList.vue?0673","webpack:///src/components/PostsList.vue","webpack:///./src/components/PostsList.vue?e420","webpack:///./src/components/PostsList.vue?fb28","webpack:///./src/components/PostsList.vue?3516"],"names":["PostDataService","page","http","get","id","data","post","put","delete","render","_vm","this","_h","$createElement","_c","_self","_v","_l","key","staticClass","_s","title","author","firstName","lastName","formatDate","createdAt","content","lenght","_f","attrs","n","class","on","$event","getPosts","staticRenderFns","name","posts","userId","isAdmin","postsCount","pageNumbers","methods","Date","date","toLocaleDateString","weekday","year","month","day","mounted","localStorage","getItem","component"],"mappings":"iLAEMA,E,4FACJ,SAAOC,GACL,OAAOC,OAAKC,IAAL,sBAAwBF,M,qBAGjC,SAAQG,GACN,OAAOF,OAAKC,IAAL,iBAAmBC,M,oBAG5B,SAAOC,GACL,OAAOH,OAAKI,KAAK,SAAUD,K,oBAG7B,SAAOD,EAAIC,GACT,OAAOH,OAAKK,IAAL,iBAAmBH,GAAMC,K,oBAGlC,SAAOD,GACL,OAAOF,OAAKM,OAAL,iBAAsBJ,Q,KAIlB,WAAIJ,G,2CCxBnB,IAAIS,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,sCAAsCN,EAAIO,GAAIP,EAAS,OAAE,SAASJ,GAAM,OAAOQ,EAAG,MAAM,CAACI,IAAIZ,EAAKF,GAAGe,YAAY,wBAAwB,CAACL,EAAG,MAAM,CAACK,YAAY,kCAAkC,CAACL,EAAG,KAAK,CAACK,YAAY,SAAS,CAACT,EAAIM,GAAGN,EAAIU,GAAGd,EAAKe,UAAUP,EAAG,IAAI,CAACK,YAAY,kBAAkB,CAACL,EAAG,OAAO,CAACK,YAAY,eAAe,CAACT,EAAIM,GAAG,0BAA0BF,EAAG,IAAI,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAGN,EAAIU,GAAGd,EAAKgB,OAAOC,WAAW,IAAIb,EAAIU,GAAGd,EAAKgB,OAAOE,iBAAiBd,EAAIM,GAAG,KAAKF,EAAG,OAAO,CAACK,YAAY,QAAQ,CAACT,EAAIM,GAAG,IAAIN,EAAIU,GAAGV,EAAIe,WAAWnB,EAAKoB,iBAAmBpB,EAAKqB,QAAQC,OAAS,GAAKd,EAAG,IAAI,CAACJ,EAAIM,GAAGN,EAAIU,GAAGV,EAAImB,GAAG,qBAAPnB,CAA6BJ,EAAKqB,aAAab,EAAG,IAAI,CAACJ,EAAIM,GAAGN,EAAIU,GAAGd,EAAKqB,YAAYb,EAAG,IAAI,CAACK,YAAY,WAAWW,MAAM,CAAC,KAAO,8BAAgCxB,EAAKF,KAAK,CAACU,EAAG,KAAK,CAACJ,EAAIM,GAAG,iCAAgCF,EAAG,KAAK,CAACK,YAAY,cAAcT,EAAIO,GAAIP,EAAe,aAAE,SAASqB,GAAG,OAAOjB,EAAG,KAAK,CAACI,IAAIa,EAAEC,MAAMD,IAAMrB,EAAIT,KAAO,cAAgB,gBAAgBgC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOxB,EAAIyB,SAASJ,MAAM,CAACrB,EAAIM,GAAG,WAAWN,EAAIU,GAAGW,GAAG,eAAc,IAAI,IACjrCK,EAAkB,G,YC0CtB,GACEC,KAAM,YACNhC,KAFF,WAGI,MAAO,CACLiC,MAAO,GACPC,OAAQ,KACRC,SAAS,EACTC,WAAY,EACZxC,KAAM,EACNyC,YAAa,IAGjBC,QAAS,CACPR,SADJ,SACA,cACMxB,KAAKV,KAAOA,EACZD,EAAN,eACA,kBACQ,EAAR,wBACQ,EAAR,8BACQ,EAAR,+CAEA,mBACQ,QAAR,mBAGIyB,WAbJ,SAaA,GACM,OAAO,IAAImB,KAAKC,GAAMC,mBAAmB,QAAS,CAChDC,QAAS,OACTC,KAAM,UACNC,MAAO,OACPC,IAAK,cAIXC,QAlCF,WAmCIxC,KAAKwB,SAASxB,KAAKV,MACnBU,KAAK4B,OAASa,aAAaC,QAAQ,UACnC1C,KAAK6B,QAA2C,UAAjCY,aAAaC,QAAQ,UChF2S,I,wBCQ/UC,EAAY,eACd,EACA7C,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAAkB,E,2CCnBf","file":"js/chunk-6c6e3d4a.4eca8108.js","sourcesContent":["import http from \"../../http-common\";\r\n\r\nclass PostDataService {\r\n  getAll(page) {\r\n    return http.get(`/posts?page=${page}`);\r\n  }\r\n\r\n  getById(id) {\r\n    return http.get(`/posts/${id}`);\r\n  }\r\n\r\n  create(data) {\r\n    return http.post(\"/posts\", data);\r\n  }\r\n\r\n  update(id, data) {\r\n    return http.put(`/posts/${id}`, data);\r\n  }\r\n\r\n  delete(id) {\r\n    return http.delete(`/posts/${id}`);\r\n  }\r\n}\r\n\r\nexport default new PostDataService();","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Here is the list of all articles\")]),_vm._l((_vm.posts),function(post){return _c('div',{key:post.id,staticClass:\"row articles-content\"},[_c('div',{staticClass:\"col-lg-10 offset-lg-1 articles\"},[_c('h2',{staticClass:\"title\"},[_vm._v(_vm._s(post.title))]),_c('p',{staticClass:\"articles-datas\"},[_c('span',{staticClass:\"author-name\"},[_vm._v(\"Written by\\n          \"),_c('b',[_c('em',[_vm._v(_vm._s(post.author.firstName)+\" \"+_vm._s(post.author.lastName))])])]),_vm._v(\",\"),_c('span',{staticClass:\"data\"},[_vm._v(\" \"+_vm._s(_vm.formatDate(post.createdAt)))])]),( post.content.lenght > 10 )?_c('p',[_vm._v(_vm._s(_vm._f(\"truncate 10 '....'\")(post.content)))]):_c('p',[_vm._v(_vm._s(post.content))]),_c('a',{staticClass:\"see-more\",attrs:{\"href\":'http://localhost:8080/post/' + post.id}},[_c('em',[_vm._v(\"See the article...\")])])])])}),_c('ul',{staticClass:\"pagination\"},_vm._l((_vm.pageNumbers),function(n){return _c('li',{key:n,class:n === _vm.page ? 'page-active' : 'page-inactive',on:{\"click\":function($event){return _vm.getPosts(n)}}},[_vm._v(\"\\n      \"+_vm._s(n)+\"\\n    \")])}),0)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h1>Here is the list of all articles</h1>\r\n    <div\r\n      v-for=\"post in posts\"\r\n      v-bind:key=\"post.id\"\r\n      class=\"row articles-content\"\r\n    >\r\n      <div class=\"col-lg-10 offset-lg-1 articles\">\r\n        <h2 class=\"title\">{{ post.title }}</h2>\r\n\r\n        <p class=\"articles-datas\">\r\n          <span class=\"author-name\"\r\n            >Written by\r\n            <b\r\n              ><em\r\n                >{{ post.author.firstName }} {{ post.author.lastName }}</em\r\n              ></b\r\n            ></span\r\n          >,<span class=\"data\"> {{ formatDate(post.createdAt) }}</span>\r\n        </p>\r\n        <p v-if=\" post.content.lenght > 10 \">{{ post.content | truncate 10 '....' }}</p>\r\n        <p v-else>{{ post.content }}</p>\r\n        <a :href=\"'http://localhost:8080/post/' + post.id\" class=\"see-more\"\r\n          ><em>See the article...</em></a\r\n        >\r\n      </div>\r\n    </div>\r\n    <ul class=\"pagination\">\r\n      <li\r\n        v-for=\"n in pageNumbers\"\r\n        :key=\"n\"\r\n        @click=\"getPosts(n)\"\r\n        :class=\"n === page ? 'page-active' : 'page-inactive'\"\r\n      >\r\n        {{ n }}\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PostDataService from \"../services/PostDataService\";\r\nexport default {\r\n  name: \"PostsList\",\r\n  data() {\r\n    return {\r\n      posts: [],\r\n      userId: null,\r\n      isAdmin: false,\r\n      postsCount: 0,\r\n      page: 1,\r\n      pageNumbers: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    getPosts(page) {\r\n      this.page = page;\r\n      PostDataService.getAll(page)\r\n        .then((response) => {\r\n          this.posts = response.data.posts.rows;\r\n          this.postsCount = response.data.posts.count;\r\n          this.pageNumbers = Math.ceil(response.data.posts.count / 5);\r\n        })\r\n        .catch((e) => {\r\n          console.log(\"error\", e);\r\n        });\r\n    },\r\n    formatDate(date) {\r\n      return new Date(date).toLocaleDateString(\"fr-FR\", {\r\n        weekday: \"long\",\r\n        year: \"numeric\",\r\n        month: \"long\",\r\n        day: \"numeric\",\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getPosts(this.page);\r\n    this.userId = localStorage.getItem(\"userId\");\r\n    this.isAdmin = localStorage.getItem(\"role\") === \"admin\";\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"../assets/custom.scss\";\r\nh1 {\r\n  text-align: center;\r\n}\r\n.list {\r\n  text-align: left;\r\n  max-width: 750px;\r\n  margin: auto;\r\n}\r\nimg {\r\n  width: 100%;\r\n}\r\n.pagination {\r\n  display: flex;\r\n  justify-content: center;\r\n  .page-active {\r\n    background-color: $grey;\r\n  }\r\n  li {\r\n    width: 1.5rem;\r\n    height: 1.5rem;\r\n    border-radius: 2px;\r\n    margin: 1rem;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostsList.vue?vue&type=template&id=79ccbb16&\"\nimport script from \"./PostsList.vue?vue&type=script&lang=js&\"\nexport * from \"./PostsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PostsList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostsList.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}