(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5fc6300"],{5229:function(e,s,a){},5338:function(e,s,a){"use strict";a("5229")},"578a":function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("form",{staticClass:"form-signin",attrs:{id:"app"}},[a("h1",{staticStyle:{"text-align":"center","margin-bottom":"4rem"}},[e._v("\n    Welcome to Groupomania!\n  ")]),a("div",{staticClass:"col-lg-6 col-md-8 col-sm-12 m-auto"},[a("div",{staticClass:"mb-3"},[a("label",{attrs:{for:"email"}},[e._v("Email")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{name:"email",type:"email",id:"email",placeholder:"Ex: alexandre.dupon@gmail.com",required:""},domProps:{value:e.user.email},on:{keyup:e.resetErrors,input:function(s){s.target.composing||e.$set(e.user,"email",s.target.value)}}})]),a("p",{staticClass:"error-message"},[e._v(e._s(e.errors.email))])]),a("div",{staticClass:"mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("div",{staticClass:"input-group",attrs:{id:"show_hide_password"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{name:"password",id:"password",placeholder:"",required:"",type:"password"},domProps:{value:e.user.password},on:{keyup:e.resetErrors,input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}})]),a("p",{staticClass:"error-message"},[e._v(e._s(e.errors.password))])])]),a("p",{staticClass:"error-message error-message-gen"},[e._v(e._s(e.message))]),a("button",{staticClass:"d-flex justify-content-center m-auto col-lg-3 col-md-4 col-sm-12 btn cta-success",attrs:{type:"submit"},on:{click:e.login}},[e._v("\n      Log in\n    ")])])])},r=[],o=(a("b64b"),a("b0c0"),a("f8a8")),l=a("f90c"),i=a.n(l),n={name:"Login",data:function(){return{user:{email:"",password:""},errors:{email:"",password:""},loggedIn:!1,submitted:!0,message:""}},methods:{validateUserData:function(){var e={};return 0===this.user.email.length&&(e.email="Please fill in an email"),console.log(i.a.isEmail(this.user.email)),0===this.user.email.length||i.a.isEmail(this.user.email)||(e.email="Please enter a correct email address"),0===this.user.password.length&&(e.password="Please enter a password"),e},login:function(e){var s=this;e.preventDefault();var a=this.validateUserData();if(Object.keys(a).length)this.errors=a;else{var t={email:this.user.email,password:this.user.password};o["a"].connectUser(t).then((function(e){localStorage.setItem("userId",JSON.stringify(e.data.userId)),localStorage.setItem("jwt",e.data.token),localStorage.setItem("role",e.data.role),null!=localStorage.getItem("jwt")&&(null!=s.$route.params.nextUrl?s.$router.push(s.$route.params.nextUrl):s.$router.push("/posts"))})).catch((function(e){s.message="Incorrect password or email",console.log("error",e)}))}},resetErrors:function(e){this.errors[e.target.name]=""}}},m=n,u=(a("5338"),a("2877")),c=Object(u["a"])(m,t,r,!1,null,null,null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-f5fc6300.ee1adedc.js.map